\section{State-space notation}

\subsection{What is state-space?}

Recall from last chapter that 2D space has two axes: $x$ and $y$. We represent
locations within this space as a pair of numbers packaged in a vector, and each
coordinate is a measure of how far to move along the corresponding axis.
State-space is a Cartesian coordinate system with an axis for each \gls{state}
variable, and we represent locations within it the same way we do for 2D space:
with a list of numbers in a vector. Each element in the vector corresponds to a
\gls{state} of the \gls{system}.

In addition to the \gls{state}, \glspl{input} and \glspl{output} are represented
as vectors. Since the mapping from the current \glspl{state} and \glspl{input}
to the change in \gls{state} is a system of equations, it's natural to write it
in matrix form.

\subsection{Definition}

Below are the continuous and discrete versions of state-space notation.
\begin{definition}[State-space notation]%
  \index{state-space controllers!open-loop}

  \begin{align}
    \dot{\mtx{x}} &= \mtx{A}\mtx{x} + \mtx{B}\mtx{u} \label{eq:ss_ctrl_x} \\
    \mtx{y} &= \mtx{C}\mtx{x} + \mtx{D}\mtx{u} \label{eq:ss_ctrl_y} \\
    \nonumber \\
    \mtx{x}_{k+1} &= \mtx{A}\mtx{x}_k + \mtx{B}\mtx{u}_k \label{eq:ssz_ctrl_x} \\
    \mtx{y}_k &= \mtx{C}\mtx{x}_k + \mtx{D}\mtx{u}_k \label{eq:ssz_ctrl_y}
  \end{align}

  \begin{figurekey}
    \begin{tabular}{llll}
      $\mtx{A}$ & system matrix      & $\mtx{x}$ & state vector \\
      $\mtx{B}$ & input matrix       & $\mtx{u}$ & input vector \\
      $\mtx{C}$ & output matrix      & $\mtx{y}$ & output vector \\
      $\mtx{D}$ & feedthrough matrix &  &  \\
    \end{tabular}
  \end{figurekey}
\end{definition}
\begin{booktable}
  \begin{tabular}{|ll|ll|}
    \hline
    \rowcolor{headingbg}
    \textbf{Matrix} & \textbf{Rows $\times$ Columns} &
    \textbf{Matrix} & \textbf{Rows $\times$ Columns} \\
    \hline
    $\mtx{A}$ & states $\times$ states & $\mtx{x}$ & states $\times$ 1 \\
    $\mtx{B}$ & states $\times$ inputs & $\mtx{u}$ & inputs $\times$ 1 \\
    $\mtx{C}$ & outputs $\times$ states & $\mtx{y}$ & outputs $\times$ 1 \\
    $\mtx{D}$ & outputs $\times$ inputs &  &  \\
    \hline
  \end{tabular}
  \caption{State-space matrix dimensions}
\end{booktable}

In the continuous case, the change in \gls{state} and the \gls{output} are
linear combinations of the \gls{state} vector and the \gls{input} vector. The
$\mtx{A}$ and $\mtx{B}$ matrices are used to map the \gls{state} vector
$\mtx{x}$ and the \gls{input} vector $\mtx{u}$ to a change in the \gls{state}
vector $\dot{\mtx{x}}$. The $\mtx{C}$ and $\mtx{D}$ matrices are used to map the
\gls{state} vector $\mtx{x}$ and the \gls{input} vector $\mtx{u}$ to an
\gls{output} vector $\mtx{y}$.
